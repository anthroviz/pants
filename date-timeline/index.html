
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>chronology</title>
        <meta name="viewport" content="width=device-width">
		
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.2/raphael-min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.6.0/moment.min.js"></script>
    </head>
    <body>
		<script>
		$(document).ready(function() {
			var chronology = {
				"settings": {
					"startDate": "July 2010",
					"orientation": "vertical",
					"width": 500,
					"height": 2000
				},
				"init": function() {
					var paper = new Raphael(0, 0, chronology.settings.width, chronology.settings.height);

					var middleX = chronology.settings.width / 2;
					var verticalOffset = 40;
					var lineHeight = chronology.settings.height - (verticalOffset * 2);
					var endY = chronology.settings.height - verticalOffset;

					var drawSeg = function(start, finish) {
						return paper.path("M" + start + finish);
					}

					drawSeg(chronology.getPoint(middleX, verticalOffset), chronology.getPoint(middleX, endY));

					var startMoment = moment(chronology.settings.startDate);
					var nowMoment = moment();

					var tickOffset = verticalOffset;

					console.log(nowMoment.diff(startMoment, 'months'));

					var sinceStart = nowMoment.diff(startMoment, 'months');


					function makeTimeline() {
						var year = 10;
						var month = 50

						function drawTick(tickWidth) {
							var halfTick = tickWidth/2;
							var tickStart = chronology.getPoint(middleX - halfTick, tickOffset);
							var tickEnd = chronology.getPoint(middleX + halfTick, tickOffset);
							drawSeg(tickStart, tickEnd);
						}

						var monthIncrement = lineHeight / sinceStart;

						for (var i = 0; i <= sinceStart; i++) {
							drawTick(month);

							paper.text(300, tickOffset, "hi")


							tickOffset += monthIncrement;

						}

					}

					makeTimeline();
				},
				"getPoint": function(x, y) {
					return x + "," + y + ",";   
				},
				"makeTimeline": function() {

				}
			}

			chronology.init();
		});
		</script>
    </body>
</html>
